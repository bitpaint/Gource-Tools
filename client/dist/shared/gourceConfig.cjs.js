"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f={resolution:"1920x1080",framerate:60,secondsPerDay:1,autoSkipSeconds:.1,elasticity:.3,title:!1,key:!1,background:"#000000",fontScale:1,cameraMode:"overview",userScale:1,timeScale:1,highlightUsers:!0,hideUsers:"",hideProgress:!0,hideMouse:!0,hideFilenames:!0,hideRoot:!0,hideFiles:!1,hideDirnames:!1,hideUsernames:!1,hideDate:!1,hideTree:!1,hideBloom:!1,maxUserCount:0,titleText:"",showDates:!1,disableProgress:!0,disableAutoRotate:!1,showLines:!0,followUsers:!1,maxFilelag:.5,multiSampling:!0,bloom:!0,bloomIntensity:.5,bloomMultiplier:.7,extraArgs:"",dateFormat:"%Y-%m-%d",timePeriod:"all",startDate:"",stopDate:"",startPosition:"",stopPosition:"",stopAtTime:0,loop:!1,loopDelaySeconds:5,fontSize:16,filenameFontSize:14,dirnameFontSize:20,userFontSize:13,fontColor:"#FFFFFF",dirColor:"#FFFFFF",highlightColor:"#FF0000",selectionColor:"#FFFF00",filenameColor:"#FFFFFF",transparent:!1,dirNameDepth:1,dirNamePosition:1,filenameTime:4,maxFiles:0,fileIdleTime:0,fileIdleTimeAtEnd:0,fileExtensions:!1,fileExtensionFallback:!1,useUserImageDir:!0,defaultUserImage:"",fixedUserSize:!1,colourImages:!1,userFriction:.67,maxUserSpeed:500,backgroundImage:"",logo:"",logoOffset:"",fullscreen:!1,screenNum:0,noVsync:!1,windowPosition:"",frameless:!1,cropAxis:"",padding:1.15,stopAtEnd:!0,dontStop:!1,disableAutoSkip:!1,realtime:!1,noTimeTravel:!1,highlightDirs:!0,disableInput:!1,hashSeed:"",userShowFilter:"",fileFilter:"(\\.svg$|\\/node_modules\\/)",fileShowFilter:"",highlightUser:"",captionFile:"",captionSize:12,captionColour:"#FFFFFF",captionDuration:10,captionOffset:0,fontFile:"",followUser:"",outputCustomLog:"",gitBranch:"",hide:[]},u={id:"default",name:"Default Gource Config File",description:"Default config file used for all projects that don't have a specific config file",settings:f,isDefault:!0,dateCreated:new Date().toISOString(),lastModified:new Date().toISOString()},c={resolution:"Sets the video resolution in WIDTHxHEIGHT format (e.g. 1920x1080)",framerate:"Number of frames per second in the exported video",secondsPerDay:"Number of seconds allocated to each day of activity",autoSkipSeconds:"Automatically skips periods of inactivity longer than this value (in seconds)",elasticity:"Controls the elasticity of connections between files and users (0.0-1.0)",title:"Displays the project title at the top of the visualization (Now disabled by default)",key:"Displays the legend for file types (Now hidden by default)",background:"Background color of the visualization",fontScale:"Relative size of text in the visualization",cameraMode:"Camera mode: 'overview', 'track' (follows activity), 'follow' (follows users)",userScale:"Relative size of user avatars",timeScale:"Relative speed of time in the visualization",highlightUsers:"Highlights users during their activity (Now enabled by default)",hideUsers:"Hides specific users (comma-separated)",hideFilesRegex:"Regular expression to hide certain files",hideRoot:"Hides the root directory in the visualization (Now hidden by default)",maxUserCount:"Limits the maximum number of users displayed (0 = no limit)",titleText:"Custom title text (empty = use project name)",showDates:"Shows dates in the visualization",disableProgress:"Disables the progress bar",disableAutoRotate:"Disables automatic camera rotation",showLines:"Shows lines connecting files to users",followUsers:"Camera follows active users",maxFilelag:"Maximum delay before files appear (in seconds)",multiSampling:"Enables anti-aliasing for better image quality",bloom:"Adds a bloom effect to bright elements (Now enabled by default)",bloomIntensity:"Intensity of the bloom effect (0.0-1.0, default 0.5)",bloomMultiplier:"Multiplier for the bloom effect (0.0-1.0)",extraArgs:"Additional arguments to pass directly to Gource",dateFormat:"Format string for the date display (strftime format, e.g., '%Y-%m-%d')",timePeriod:"Time period filter: 'all', 'week' (last 7 days), 'month' (last 30 days), 'year' (last 365 days)",startDate:"Start date for the visualization (format: YYYY-MM-DD)",stopDate:"End date for the visualization (format: YYYY-MM-DD)",startPosition:"Start at a specific position (0.0 to 1.0, or 'random')",stopPosition:"Stop at a specific position (0.0 to 1.0)",stopAtTime:"Stop rendering after a specific number of seconds (0 to disable)",loop:"Loop the visualization when it ends",loopDelaySeconds:"Seconds to pause before looping (default: 5)",fontSize:"Default font size (for title, date)",filenameFontSize:"Font size for filenames",dirnameFontSize:"Font size for directory names (default: 20)",userFontSize:"Font size for user names (default: 13)",fontColor:"Default font color (for title, date)",dirColor:"Font color for directory names",highlightColor:"Font color for highlighted users/directories",selectionColor:"Font color for selected users/files",transparent:"Make the background transparent (useful for overlays)",filenameColor:"Font color for filenames",dirNameDepth:"Draw directory names down to this depth (default: 1)",dirNamePosition:"Position directory names along the edge (0.0 to 1.0, default: 1.0)",filenameTime:"Duration filenames remain on screen (seconds)",maxFiles:"Maximum number of files displayed (0 for unlimited)",fileIdleTime:"Time files remain on screen after activity (seconds, default 0)",fileIdleTimeAtEnd:"Time files remain on screen at the very end (seconds, default 0)",fileExtensions:"Show only file extensions instead of full filenames",fileExtensionFallback:"Use filename if extension is missing (requires --file-extensions)",useUserImageDir:"Attempt to load user avatars from the ./avatars directory",defaultUserImage:"Path to an image file to use if a specific user avatar is not found",fixedUserSize:"Users avatars maintain a fixed size instead of scaling",colourImages:"Apply coloring to user avatars",userFriction:"Rate at which users slow down after moving (0.0 to 1.0)",maxUserSpeed:"Maximum speed users can travel (units per second)",backgroundImage:"Path to an image file to use as the background",logo:"Path to an image file to display as a foreground logo",logoOffset:"Offset position of the logo (format: XxY, e.g., 10x10)",fullscreen:"Run Gource in fullscreen mode",screenNum:"Select the screen number for fullscreen mode",noVsync:"Disable vertical sync (can cause tearing)",windowPosition:"Initial window position (format: XxY, e.g., 100x50)",frameless:"Run Gource in a borderless window",cropAxis:"Crop the view on an axis ('vertical' or 'horizontal')",padding:"Camera view padding around the content (default: 1.15)",stopAtEnd:"Stop simulation automatically at the end of the log (Now enabled by default)",dontStop:"Keep running (camera rotating) after the log ends",disableAutoSkip:"Prevent automatically skipping periods of inactivity",realtime:"Attempt to playback at realtime speed",noTimeTravel:"Use the time of the last commit if a commit time is in the past",highlightDirs:"Highlight the names of all directories (Now enabled by default)",disableInput:"Disable keyboard and mouse input during visualization",hashSeed:"Seed for the hash function (affects layout)",userShowFilter:"Show only usernames matching this regex",fileShowFilter:"Show only file paths matching this regex",highlightUser:"Highlight a specific user by name",captionFile:"Path to a caption file to display timed text",captionSize:"Font size for captions",captionColour:"Font color for captions (hex)",captionDuration:"Default duration captions remain on screen (seconds)",captionOffset:"Horizontal offset for captions",fontFile:"Path to a font file (.ttf, .otf) to use for text rendering",followUser:"Camera will automatically follow this specific user",outputCustomLog:"Output a Gource custom format log file during processing (useful for debugging)",gitBranch:"Specify git branch when Gource generates its own log (limited use when providing custom log)",hideProgress:"Hides the progress bar (Now hidden by default)",hideMouse:"Hides the mouse cursor (Now hidden by default)",hideFilenames:"Hides filenames (Now hidden by default)",hideFiles:"Hides files visually (Now shown by default)",hideDirnames:"Hides directory names (Now hidden by default)",hideUsernames:"Hides usernames (Now hidden by default)",hideDate:"Hides dates (Now hidden by default)",hideTree:"Hides tree structure (Now hidden by default)",hideBloom:"Hides bloom effect (Now hidden by default)",fileFilter:"Regular expression to hide certain file paths (default hides .svg and node_modules)"};function m(e){if(e==="all")return{startDate:"",stopDate:""};const l=new Date,t=l.toISOString().split("T")[0];let r=new Date;return e==="week"?r.setDate(l.getDate()-7):e==="month"?r.setDate(l.getDate()-30):e==="year"&&r.setDate(l.getDate()-365),{startDate:r.toISOString().split("T")[0],stopDate:t}}function h(e){const l="./avatars";if(!e)return"";let t="";const r={resolution:"--viewport",fullscreen:"-f",screenNum:"--screen",multiSampling:"--multi-sampling",noVsync:"--no-vsync",startDate:"--start-date",stopDate:"--stop-date",startPosition:"-p",stopPosition:"--stop-position",stopAtTime:"-t",stopAtEnd:"--stop-at-end",dontStop:"--dont-stop",loop:"--loop",autoSkipSeconds:"-a",disableAutoSkip:"--disable-auto-skip",secondsPerDay:"-s",realtime:"--realtime",noTimeTravel:"--no-time-travel",timeScale:"-c",elasticity:"-e",key:"--key",dateFormat:"--date-format",userImageDir:"--user-image-dir",defaultUserImage:"--default-user-image",fixedUserSize:"--fixed-user-size",colourImages:"--colour-images",userFriction:"--user-friction",userScale:"--user-scale",maxUserSpeed:"--max-user-speed",followUser:"--follow-user",highlightUser:"--highlight-user",highlightUsers:"--highlight-users",highlightDirs:"--highlight-dirs",fileIdleTime:"-i",fileIdleTimeAtEnd:"--file-idle-time-at-end",maxFiles:"--max-files",maxFileLag:"--max-file-lag",filenameTime:"--filename-time",fileExtensions:"--file-extensions",fileExtensionFallback:"--file-extension-fallback",userFilter:"--user-filter",userShowFilter:"--user-show-filter",fileFilter:"--file-filter",fileShowFilter:"--file-show-filter",windowPosition:"--window-position",frameless:"--frameless",outputCustomLog:"--output-custom-log",background:"-b",backgroundImage:"--background-image",transparent:"--transparent",bloomMultiplier:"--bloom-multiplier",bloomIntensity:"--bloom-intensity",cameraMode:"--camera-mode",cropAxis:"--crop",padding:"--padding",disableAutoRotate:"--disable-auto-rotate",disableInput:"--disable-input",fontFile:"--font-file",fontScale:"--font-scale",fontSize:"--font-size",filenameFontSize:"--file-font-size",dirnameFontSize:"--dir-font-size",userFontSize:"--user-font-size",fontColor:"--font-colour",dirColor:"--dir-colour",highlightColor:"--highlight-colour",selectionColor:"--selection-colour",filenameColor:"--filename-colour",dirNameDepth:"--dir-name-depth",dirNamePosition:"--dir-name-position",logo:"--logo",logoOffset:"--logo-offset",loopDelaySeconds:"--loop-delay-seconds",captionFile:"--caption-file",captionSize:"--caption-size",captionColour:"--caption-colour",captionDuration:"--caption-duration",captionOffset:"--caption-offset",gitBranch:"--git-branch",hashSeed:"--hash-seed",title:"--title",framerate:"--output-framerate"};let n=[];Array.isArray(e.hide)&&e.hide.length>0&&(n=[...e.hide]),e.title===!1&&(n.includes("title")||n.push("title")),e.title===!0&&e.titleText&&typeof e.titleText=="string"&&e.titleText.trim()!==""&&(t+=` --title "${e.titleText.replace(/"/g,'\\"')}"`);for(const o of Object.keys(e)){if(o==="title"||o==="titleText"||o==="hide")continue;const i=e[o];if(i==null||i===""&&typeof i!="boolean")continue;const a=r[o];if(a){if(typeof i=="boolean"){i&&!a.startsWith("--hide-")&&!a.startsWith("--disable-")&&(t+=` ${a}`);continue}if(["background","fontColor","dirColor","highlightColor","selectionColor","filenameColor","captionColour"].includes(o)){const s=typeof i=="string"?i.replace("#",""):i;t+=` ${a} ${s}`;continue}if(o==="resolution"){t+=` ${a} ${i}`;continue}if(o==="startDate"||o==="stopDate"){if(typeof i=="string"&&i){const s=i.match(/^(\d{4}-\d{2}-\d{2}( \d{2}:\d{2}:\d{2})?)/);if(s&&s[1]){const d=s[1].includes(" ")?s[1]:`${s[1]} 00:00:00`;t+=` ${a} "${d}"`}else console.warn(`Invalid date format for ${o}: ${i}. Skipping.`)}continue}t+=` ${a} ${i}`}}if(n.length>0){const o=[...new Set(n)];t+=` --hide ${o.join(",")}`}return t.includes("--output-framerate")||(t+=` --output-framerate ${e.framerate||60}`),e.useUserImageDir===!0&&(t+=` --user-image-dir "${l}"`),e.fileExtensions===!0&&!t.includes("--file-extensions")&&(t+=" --file-extensions"),t.trim()}exports.calculateDatesFromPeriod=m;exports.convertToGourceArgs=h;exports.defaultGourceConfig=u;exports.defaultSettings=f;exports.settingsDescriptions=c;
